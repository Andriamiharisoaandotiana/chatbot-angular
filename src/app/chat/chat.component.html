<div class=" chat-container h-[85vh] flex flex-col bg-slate-200 from-indigo-500 via-purple-500 to-blue-500" >
  <!-- Chat Header -->
  <div class="chat-header bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 shadow-lg">
    <h2 class="text-lg ">Bonjour, comment puis-je vous aider ?</h2>
  </div>

  <!-- Chat Box -->
  <div class="chat-box flex-1 overflow-y-auto p-6 space-y-4 h-96" #chatContainer>
    <div *ngFor="let item of data; let i = index" class="chat-message" [class.user]="item.sender === 'user'">
      <!-- User Message -->
      <div class="ps-[20%]">
        <div class="message user-message bg-gradient-to-r from-blue-500 to-purple-500 text-white p-4 rounded-3xl shadow-lg w-fit ml-auto">
          <p class="text-sm">{{ item.message }}</p>
        </div>
      </div>
      
      <!-- Bot Message -->
      <br>
      <div class="pe-[20%]">
        <div class="message bot-message bg-gray-100 text-gray-800 p-4 rounded-3xl shadow-lg w-fit">
          <p class="text-sm">{{ item.response }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Chat Input -->
  <div class="chat-input-container bg-white flex items-center p-4 border-t shadow-md">
    <input
      type="text"
      placeholder="Ã‰crivez votre message ici..."
      [(ngModel)]="message"
      class="chat-input flex-1 p-3 border-2 border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-500 transition"
      (keyup.enter)="sendMessage()" 
    />
    <!-- Spinner -->
    <div *ngIf="isLoading" class="spinner-container ml-4">
      <div class="spinner border-4 border-indigo-500 border-t-transparent rounded-full w-6 h-6 animate-spin"></div>
    </div>
    <!-- Send Button -->
    <button
      class="send-button ml-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-full shadow-lg hover:from-blue-700 hover:to-purple-700 flex items-center transition"
      (click)="sendMessage(); generateResponse()"
    >
      <span>Envoyer</span>
      <i class="ml-2 zmdi zmdi-mail-send"></i>
      
    </button>

  
    <button
      class="send-button ml-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-full shadow-lg hover:from-blue-700 hover:to-purple-700 flex items-center transition"
      (click)="onMicrophoneClick()"
    >
    <!-- <i class="fas-solid fa-microphone text-lg w-6 h-6"></i>
    <i class="fas fa-camera"></i> -->
    <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
      <!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z" fill="#fff"/></svg> 

    </button>  

  

  </div>
</div>
